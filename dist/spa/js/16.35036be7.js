(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[16],{acc1:function(r,t,n){},db95:function(r,t,n){"use strict";n.r(t);var e=function(){var r=this,t=r.$createElement,n=r._self._c||t;return n("q-page",[n("div",{ref:"crossword-container",staticClass:"crossword-container"},[n("div",{staticClass:"center q-mb-md"},[r.showPlayAgain?n("div",[n("q-btn",{attrs:{size:"sm",color:"purple"},on:{click:r.playAgain}},[r._v("\n          Jugar de nuevo\n        ")])],1):r._e()]),r.grid?n("div",{staticClass:"crossword-board-container"},[n("div",[n("div",{class:[r.smallContainer?"col-12":"col-7"]},[n("div",{staticClass:"crossword-board"},[r._l(r.grid,(function(t,e){return[r._l(t,(function(t,o){return[t?n("input",{directives:[{name:"model",rawName:"v-model",value:r.form[e][o],expression:"form[index1][index2]"}],key:"row-"+e+"-"+o,staticClass:"crossword-board__item",class:{"crossword-board__item--valid":r.equalsLetters(r.form[e][o],t.char)},attrs:{id:r.index(e,o),type:"text",minlength:"1",maxlength:"1",pattern:r.pattern(t.char),required:"required"},domProps:{value:r.form[e][o]},on:{input:function(t){t.target.composing||r.$set(r.form[e],o,t.target.value)}}}):n("span",{key:"row-"+e+"-"+o,staticClass:"crossword-board__item--blank",attrs:{id:r.index(e,o)}})]}))]}))],2)]),n("div",{class:[r.smallContainer?["col-12","px-5","my-5"]:"col-4"]},[n("div",{staticClass:"crossword-clues"},[r.across.length>0?n("dl",{staticClass:"crossword-clues__list crossword-clues__list--across"},[n("dt",{staticClass:"crossword-clues__list-title"},[r._v(r._s(this.across))]),r._l(r.acrossWords,(function(t,e){return n("dd",{key:"across-"+t.word+"-"+e,staticClass:"crossword-clues__list-item"},[n("span",{staticClass:"hightlighted"},[r._v(r._s(e+1)+". "+r._s(t.clue)+" ("+r._s(t.word)+")")])])}))],2):r._e(),r.down.length>0?n("dl",{staticClass:"crossword-clues__list crossword-clues__list--down"},[n("dt",{staticClass:"crossword-clues__list-title"},[r._v(r._s(this.down))]),r._l(r.downWords,(function(t,e){return n("dd",{key:"down-"+t.word+"-"+e,staticClass:"crossword-clues__list-item"},[n("span",{staticClass:"hightlighted"},[r._v(r._s(e+1)+". "+r._s(t.clue)+" ("+r._s(t.word)+")")])])}))],2):r._e()])])])]):r._e()])])},o=[],s=n("448a"),a=n.n(s);n("23bf"),n("6d67"),n("6c7b");function i(r){this.char=r,this.across=null,this.down=null}function l(r,t){this.is_start_of_word=r,this.index=t}function c(r,t){this.word=r,this.index=t}function d(r,t){var n,e=50,o=50,s={};this.getSquareGrid=function(r){for(var t=null,n=0,e=0;e<r;e++){var o=this.getGrid(1);if(null!=o){var s=1*Math.min(o.length,o[0].length)/Math.max(o.length,o[0].length);if(s>n&&(t=o,n=s),1==n)break}}return t},this.getGrid=function(r){for(var t=0;t<r;t++){v();var e=w(),o=Math.floor(p.length/2),s=Math.floor(p[0].length/2),i=_[0];if("across"==e?s-=Math.floor(i.word.length/2):o-=Math.floor(i.word.length/2),!1===f(i.word,o,s,e))return n=[i],null;u(i.word,i.index,o,s,e);var l=[],c=void 0;l.push(_.slice(1));for(var d=0;d<l.length;d++){c=!1;for(var h=0;h<l[d].length;h++){i=l[d][h];var m=g(i.word);if(m){o=m["row"],s=m["col"];var b=m["direction"];u(i.word,i.index,o,s,b),c=!0}else l.length-1==d&&l.push([]),l[d+1].push(i)}if(!c)break}if(c)return a()}return n=l[l.length-1],null},this.getBadWords=function(){return n},this.getLegend=function(n){for(var e={across:[],down:[]},o=1,s=0;s<n.length;s++)for(var a=0;a<n[s].length;a++){var i=n[s][a],l=!1;for(var c in e)if(i&&i[c]&&i[c]["is_start_of_word"]){var d=i[c]["index"];e[c].push({position:o,index:d,clue:t[d],word:r[d]}),l=!0}l&&o++}return e};var a=function(){for(var r=e-1,t=0,n=o-1,s=0,a=0;a<e;a++)for(var i=0;i<o;i++){var l=p[a][i];null!=l&&(a<r&&(r=a),a>t&&(t=a),i<n&&(n=i),i>s&&(s=i))}for(var c=t-r+1,d=s-n+1,u=new Array(c),h=0;h<c;h++)for(var f=0;f<d;f++)u[h]=new Array(d);for(var w=r,g=0;g<c;w++,g++)for(var v=n,m=0;m<d;v++,m++)u[g][m]=p[w][v];return u},d=function(r,t,n,e,o,a){var c=r.charAt(n);null==p[e][o]&&(p[e][o]=new i(c),s[c]||(s[c]=[]),s[c].push({row:e,col:o}));var d=0==n;p[e][o][a]=new l(d,t)},u=function(r,t,n,e,o){if("across"==o)for(var s=e,a=0;s<e+r.length;s++,a++)d(r,t,a,n,s,o);else{if("down"!=o)throw"Invalid Direction";for(var i=n,l=0;i<n+r.length;i++,l++)d(r,t,l,i,e,o)}},h=function(r,t,n){return null==p[t][n]?0:p[t][n]["char"]==r&&1},f=function(r,t,n,e){if(t<0||t>=p.length||n<0||n>=p[t].length)return!1;var o;if("across"==e){if(n+r.length>p[t].length)return!1;if(n-1>=0&&null!=p[t][n-1])return!1;if(n+r.length<p[t].length&&null!=p[t][n+r.length])return!1;for(var s=t-1,a=n,i=0;s>=0&&a<n+r.length;a++,i++){var l=null==p[s][a],c=null!=p[t][a]&&p[t][a]["char"]==r.charAt(i),d=l||c;if(!d)return!1}for(var u=t+1,f=n,w=0;u<p.length&&f<n+r.length;f++,w++){var g=null==p[u][f],v=null!=p[t][f]&&p[t][f]["char"]==r.charAt(w),m=g||v;if(!m)return!1}o=0;for(var _=n,b=0;_<n+r.length;_++,b++){var C=h(r.charAt(b),t,_);if(!1===C)return!1;o+=C}}else{if("down"!=e)throw"Invalid Direction";if(t+r.length>p.length)return!1;if(t-1>=0&&null!=p[t-1][n])return!1;if(t+r.length<p.length&&null!=p[t+r.length][n])return!1;for(var W=n-1,x=t,y=0;W>=0&&x<t+r.length;x++,y++){var A=null==p[x][W],k=null!=p[x][n]&&p[x][n]["char"]==r.charAt(y),M=A||k;if(!M)return!1}for(var E=n+1,q=t,L=0;q<t+r.length&&E<p[q].length;q++,L++){var z=null==p[q][E],G=null!=p[q][n]&&p[q][n]["char"]==r.charAt(L),S=z||G;if(!S)return!1}o=0;for(var R=t,$=0;R<t+r.length;R++,$++){var N=h(r.charAt($,1),R,n);if(!1===N)return!1;o+=N}}return o},w=function(){return Math.floor(2*Math.random())?"across":"down"},g=function(r){for(var t=[],n=0;n<r.length;n++){var e=s[r.charAt(n)];if(e)for(var o=0;o<e.length;o++){var a=e[o],i=a["row"],l=a["col"],c=f(r,i,l-n,"across"),d=f(r,i-n,l,"down");!1!==c&&t.push({intersections:c,row:i,col:l-n,direction:"across"}),!1!==d&&t.push({intersections:d,row:i-n,col:l,direction:"down"})}}if(0==t.length)return!1;var u=t[Math.floor(Math.random()*t.length)];return u},v=function(){for(var r=0;r<p.length;r++)for(var t=0;t<p[r].length;t++)p[r][t]=null;s={}};if(r.length<2)throw"A crossword must have at least 2 words";if(r.length!=t.length)throw"The number of words must equal the number of clues";for(var p=new Array(e),m=0;m<e;m++)p[m]=new Array(o);for(var _=[],b=0;b<r.length;b++)_.push(new c(r[b],b));_.sort((function(r,t){return t.word.length-r.word.length}))}var u={props:{wordsWithReflexions:{type:Array,default:function(){return[{word:"Maya",description:"Es el numero uno"},{word:"Tata",description:"seÃ±or, padre"},{word:"Q'aspa",description:"lo usamos en la cabeza"},{word:"Ojota",description:"lo usamos en los pies"},{word:"amaru",description:"es un reptil"},{word:"Qhantati",description:"lo vemos al terminar la madrugada"},{word:"Nina",description:"Se usa para cocinar"},{word:"Khunu",description:"la blanca nieve"}]}},lang:{type:String,default:"EN",validator:function(r){return-1!==["EN","ES"].indexOf(r)}},showPlayAgain:{type:Boolean,default:!0}},data:function(){return{selectedWords:[],acrossWords:[],downWords:[],matrix:null,grid:null,form:null,smallContainer:!1}},computed:{words:function(){return this.selectedWords.map((function(r){return r.word}))},clues:function(){return this.selectedWords.map((function(r){return r.description}))},across:function(){var r;switch(this.lang){case"ES":r="Horizontales";break;case"AY":r="Horizontal";break;default:r="Horizontales";break}return r},down:function(){var r;switch(this.lang){case"ES":r="Verticales";break;case"AY":across="Vertical";break;default:r="Verticales";break}return r}},methods:{index:function(r,t){var n="item".concat(r+1,"-").concat(t+1);return n},pattern:function(r){var t="^[".concat(r.toLowerCase()).concat(r.toUpperCase(),"]{1}$");return t},equalsLetters:function(r,t){return r.toUpperCase()===t.toUpperCase()||r.toLowerCase()===t.toLowerCase()},setRandomWords:function(){var r=[];while(r.length<8){var t=this.wordsWithReflexions[Math.floor(Math.random()*this.wordsWithReflexions.length)];r.indexOf(t)<0&&r.push(t)}this.selectedWords=r},generateGrid:function(){var r,t=13;while(!r||r.length>t){this.setRandomWords();var n=new d(this.words,this.clues),e=10;r=n.getSquareGrid(e)}if(this.grid=r,this.form=a()(Array(t)).map((function(){return Array(t).fill("")})),this.grid.length<t){while(this.grid.length<t)this.grid.push([]);this.grid.forEach((function(r){while(r.length<t)r.push(null)}));var o=n.getLegend(this.grid);this.acrossWords=o.across,this.downWords=o.down}},playAgain:function(){this.generateGrid()},getWindowWidth:function(){this.$refs["crossword-container"].parentElement.parentElement.clientWidth<1200&&(this.smallContainer=!0)}},mounted:function(){this.generateGrid(),this.$nextTick((function(){window.addEventListener("resize",this.getWindowWidth),this.getWindowWidth()}))},beforeDestroy:function(){window.removeEventListener("resize",this.getWindowWidth)}},h=u,f=(n("ff56"),n("2877")),w=n("9989"),g=n("9c40"),v=n("eebe"),p=n.n(v),m=Object(f["a"])(h,e,o,!1,null,null,null);t["default"]=m.exports;p()(m,"components",{QPage:w["a"],QBtn:g["a"]})},ff56:function(r,t,n){"use strict";var e=n("acc1"),o=n.n(e);o.a}}]);